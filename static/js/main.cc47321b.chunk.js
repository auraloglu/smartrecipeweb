(this.webpackJsonpsmart_recipe=this.webpackJsonpsmart_recipe||[]).push([[0],{208:function(e,t,r){e.exports=r(361)},234:function(e,t,r){},236:function(e,t,r){},237:function(e,t,r){},238:function(e,t,r){},359:function(e,t,r){},360:function(e,t,r){},361:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(39),s=r.n(c),o=r(13),i=r(23),l=r(182),u=r(55),p=r(15),m=r(8),d=r(9),f=r(10),h=r(11),v=r(12),b=r(6),g=r.n(b),y=r(17),E=r(14),O=r(30),w=r.n(O),j=r(183),N=r.n(j).a.create({baseURL:"http://cappydh.github.io/smartrecipeweb/api"}),I=r(35),C=Object(I.a)();function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(r,!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=function(){return function(){var e=Object(E.a)(g.a.mark((function e(t){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/recipes");case 2:r=e.sent,t({type:"FETCH_RECIPES",payload:r.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},U=function(e){return function(){var t=Object(E.a)(g.a.mark((function t(r){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.get("/recipes?userId=".concat(e));case 2:n=t.sent,r({type:"FETCH_USER_RECIPES",payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(E.a)(g.a.mark((function t(r){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.get("/users?id=".concat(e));case 2:n=t.sent,r({type:"FETCH_USER",payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(e,t){return function(){var r=Object(E.a)(g.a.mark((function r(n){var a;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,N.post("/follows",{followerId:e,followedId:parseInt(t)});case 2:a=r.sent,n({type:"FOLLOW_USER",payload:a.data});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},F=function(e,t){return function(){var r=Object(E.a)(g.a.mark((function r(n){var a,c;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,N.get("/follows?followerId=".concat(e,"&followedId=").concat(parseInt(t)));case 2:return a=r.sent,r.next=5,N.delete("/follows/".concat(a.data[0].id));case 5:c=r.sent,n({type:"UNFOLLOW_USER",payload:c.data});case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},D=function(e){return function(){var t=Object(E.a)(g.a.mark((function t(r){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.get("/follows?followerId=".concat(e));case 2:n=t.sent,r({type:"FETCH_FOLLOWS",payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},L=function(e,t){return function(){var r=Object(E.a)(g.a.mark((function r(n){var a;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,N.get("/follows?followerId=".concat(e,"&followedId=").concat(parseInt(t)));case 2:a=r.sent,n({type:"IS_FOLLOWING",payload:a.data});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(E.a)(g.a.mark((function t(r){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.get("/comments?recipeId=".concat(e));case 2:n=t.sent,r({type:"FETCH_COMMENTS",payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(E.a)(g.a.mark((function t(r){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.get("/follows?followedId=".concat(e));case 2:(n=t.sent).data.map((function(e){return r(x(e.followerId))})),r({type:"FETCH_FOLLOWERS",payload:n.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T=(r(234),function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(p.a,{onClick:function(){return e.props.logoutUser()},to:"/",className:"logout"},"Logout")}}]),t}(a.a.Component)),M=Object(o.b)(null,{logoutUser:function(){return function(){var e=Object(E.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"LOGOUT_USER"}),C.push("/");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(T),B=(r(236),function(e){function t(){var e,r;Object(m.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).state={term:"",isOpen:!1},r.onFormSubmit=function(e){e.preventDefault(),r.props.onSubmit(r.state.term)},r.onFormChange=function(e){r.setState({term:e.target.value,isOpen:!0}),r.props.searchRecipes(e.target.value)},r.onClickResult=function(){r.setState({term:""})},r.openResults=function(){r.setState({isOpen:!0})},r.closeResults=function(){setTimeout((function(){r.setState({isOpen:!1})}),200)},r}return Object(v.a)(t,e),Object(d.a)(t,[{key:"renderResults",value:function(){var e=this;if(this.state.term.length>1)return this.state.isOpen?this.props.recipeResults.map((function(t){return a.a.createElement(a.a.Fragment,{key:t.id},a.a.createElement(p.a,{to:"/recipes/".concat(t.id),className:"item results",onClick:e.onClickResult},a.a.createElement("img",{className:"ui avatar image",src:t.attachment,alt:t.id}),a.a.createElement("div",{className:"content"},a.a.createElement("div",{className:"header"},t.name),a.a.createElement("div",{className:"description"},t.description))))})):null}},{key:"render",value:function(){return a.a.createElement("div",{className:"ui search",onBlur:this.closeResults,onFocus:this.openResults,style:{width:"300px"}},a.a.createElement("form",{className:"ui form"},a.a.createElement("div",{className:"ui icon input",style:{width:"300px"}},a.a.createElement("input",{type:"text",value:this.state.term,onChange:this.onFormChange}),a.a.createElement("i",{"aria-hidden":"true",className:"search icon"}))),a.a.createElement("div",{className:"ui celled list",style:{position:"absolute",zIndex:1,background:"white",width:"300px",marginTop:"0px"}},this.renderResults()))}}]),t}(a.a.Component)),H=Object(o.b)((function(e){return{recipeResults:e.foundRecipes}}),{searchRecipes:function(e){return function(){var t=Object(E.a)(g.a.mark((function t(r){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.get("/recipes?name_like=".concat(e));case 2:n=t.sent,r({type:"SEARCH_RECIPES",payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(B),W=r(368),G=function(e){return a.a.createElement("div",{className:"ui active dimmer"},a.a.createElement("div",{className:"ui big text",style:{color:"white",fontSize:30}},e.message),a.a.createElement("br",null),a.a.createElement("img",{src:"https://i.gifer.com/p7A.gif",alt:"spinner",style:{width:300,height:300,borderRadius:150}}))};G.defaultProps={message:"Loading..."};var K=G,V=(r(237),function(e){function t(){var e,r;Object(m.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).state={commentCounter:0,followCounter:0},r.componentDidMount=Object(E.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.fetchFollowers(r.props.currentUser);case 2:return e.next=4,r.props.fetchUserRecipes(r.props.currentUser);case 4:return t=r.props.userRecipes.filter((function(e){return e.userId===r.props.currentUser})),e.next=7,t.map((function(e){return r.props.fetchComments(e.id),null}));case 7:r.setState({followCounter:r.props.follows.length}),console.log(r.props.comments);case 9:case"end":return e.stop()}}),e)}))),r}return Object(v.a)(t,e),Object(d.a)(t,[{key:"renderUserAvatar",value:function(e){return e.profilepicture?a.a.createElement("img",{src:e.profilepicture,alt:"avatar",style:{width:35,height:35,borderRadius:17.5}}):a.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/70/User_icon_BLACK-01.png",alt:"avatar",style:{width:35,height:35,borderRadius:17.5}})}},{key:"renderFollows",value:function(e){return a.a.createElement("div",{className:"event"},a.a.createElement("div",{className:"label"},a.a.createElement(p.a,{to:"/user/".concat(e.id)},this.renderUserAvatar(e))),a.a.createElement("div",{className:"content"},a.a.createElement("div",{className:"date"},"1 day ago"),a.a.createElement("div",{className:"summary"},a.a.createElement(p.a,{to:"/user/".concat(e.id)},e.username)," followed you")))}},{key:"renderComments",value:function(e,t){var r=this.props.userRecipes.find((function(e){return e.id===t.recipeId}));if(r)return a.a.createElement("div",{className:"event",style:{whiteSpace:"normal !important"}},a.a.createElement("div",{className:"label"},a.a.createElement(p.a,{to:"/user/".concat(e.id)},this.renderUserAvatar(e))),a.a.createElement("div",{className:"content"},a.a.createElement("div",{className:"date"},t.createdDt.split(" ")[0]),a.a.createElement("div",{className:"summary"},a.a.createElement(p.a,{to:"/user/".concat(e.id)},e.username)," commented on your recipe"," ",a.a.createElement(p.a,{to:"/recipes/".concat(r.id)},r.name),"!")))}},{key:"renderUserFeedComment",value:function(){var e=this;if(this.props.comments.length>0)return this.props.comments.map((function(t){var r=e.props.users.find((function(r){return r.id===t.createdBy&&r.id!==e.props.currentUser}));return r?a.a.createElement(a.a.Fragment,{key:t.id},e.renderComments(r,t)):a.a.createElement(K,{key:t.id})}))}},{key:"renderUserFeedFollow",value:function(){var e=this;if(this.props.follows.length>0)return this.props.follows.map((function(t){var r=e.props.users.find((function(e){return e.id===t.followerId}));return r?a.a.createElement(a.a.Fragment,{key:t.id}," ",e.renderFollows(r)):a.a.createElement(K,{key:t.id})}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"ui card"},a.a.createElement("div",{className:"content"},a.a.createElement("div",{className:"header"},"Activity")),a.a.createElement("div",{className:"content"},a.a.createElement("div",{className:"ui feed"},this.renderUserFeedFollow()," ",this.renderUserFeedComment())))}}]),t}(a.a.Component)),z=Object(o.b)((function(e){return{follows:Object.values(e.followerModal),users:Object.values(e.users),userRecipes:Object.values(e.userRecipes),currentUser:e.auth.userId,comments:Object.values(e.comments)}}),{fetchFollowers:A,fetchComments:_,fetchUserRecipes:U})(V),q=(r(238),function(){var e=Object(o.c)((function(e){return e.auth.isSignedIn})),t=Object(o.c)((function(e){return e.auth.userId})),r=function(e,t){return e&&t?a.a.createElement(a.a.Fragment,null,a.a.createElement(W.a,{text:"My Feed",className:"item link"},a.a.createElement(W.a.Menu,null,a.a.createElement(z,{currentUser:t.id}))),a.a.createElement(W.a,{text:t.username,className:"item link"},a.a.createElement(W.a.Menu,null,a.a.createElement(p.a,{to:"/user/".concat(t.id),className:"myProfile"},a.a.createElement(W.a.Item,null,"My Profile")),a.a.createElement(W.a.Item,null,a.a.createElement(M,null))))):a.a.createElement(p.a,{to:"/login",className:"item link"},"Login")}(e,Object(o.c)((function(e){return Object.values(e.users)})).find((function(e){return e.id===t})));return a.a.createElement("div",{className:"ui secondary large menu",style:{backgroundColor:"rgb(\t171, 0, 18)"}},a.a.createElement(p.a,{to:"/",className:"top aligned item link"},"SmartRecipe"),a.a.createElement("div",{className:"right menu"},a.a.createElement("div",{className:"item link"},a.a.createElement(H,null)),a.a.createElement(p.a,{to:"/recipes",className:"item link"},"Recipes"),r))}),Y=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.users.find((function(t){return t.id===e.props.userId}));return t?a.a.createElement("div",null,a.a.createElement("i",{className:"user icon"}),a.a.createElement(p.a,{to:"/user/".concat(t.id)},t.username," ")):null}}]),t}(a.a.Component),Z=Object(o.b)((function(e){return{users:Object.values(e.users)}}))(Y),J=function(e){function t(){var e,r;Object(m.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).state={isLoading:!0},r.componentDidMount=Object(E.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.fetchRecipesAndUsers();case 2:r.setState({isLoading:!1});case 3:case"end":return e.stop()}}),e)}))),r}return Object(v.a)(t,e),Object(d.a)(t,[{key:"renderList",value:function(){return this.props.recipes.map((function(e){return a.a.createElement("div",{className:"ui card",key:e.id},a.a.createElement(p.a,{to:"/recipes/".concat(e.id),className:"image"},a.a.createElement("img",{src:e.attachment,alt:e.id,className:"image",style:{height:"259px"}})),a.a.createElement("div",{className:"content"},a.a.createElement(p.a,{to:"/recipes/".concat(e.id),className:"header"},e.name),a.a.createElement("div",{className:"meta"},a.a.createElement("span",{className:"date"},e.recipeType)),a.a.createElement("div",{className:"description"},e.description)),a.a.createElement("div",{className:"extra content"},a.a.createElement(Z,{userId:e.userId})))}))}},{key:"renderCreateButton",value:function(){if(this.props.isSignedIn&&!this.props.userRecipes)return a.a.createElement("div",{style:{textAlign:"right",marginBottom:"30px",marginTop:"-45px"}},a.a.createElement(p.a,{to:"/recipes/new",className:"ui button",style:{backgroundColor:"orange",color:"white"}},"Create Recipe"))}},{key:"render",value:function(){return this.state.isLoading?a.a.createElement(K,null):a.a.createElement("div",null,a.a.createElement("h2",null,this.props.title),this.renderCreateButton(),a.a.createElement("div",{className:"ui cards"},this.renderList()))}}]),t}(a.a.Component);J.defaultProps={title:"Recipes"};var X=Object(o.b)((function(e){return{recipes:Object.values(e.recipes),currentUserId:e.auth.userId,isSignedIn:e.auth.isSignedIn}}),{fetchRecipes:S,fetchRecipesAndUsers:function(){return function(){var e=Object(E.a)(g.a.mark((function e(t,r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(S());case 2:w.a.chain(r().recipes).map("userId").uniq().forEach((function(e){return t(x(e))})).value();case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}})(J),$=r(48),Q=r(370),ee=r(369),te=function(e){var t={};return e.name||(t.name="Required"),e.description||(t.description="Required"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.recipeType||(t.recipeType="Required"),t},re=function(e){var t=e.input,r=e.label,n=e.type,c=e.meta;return a.a.createElement("div",{className:"field"},a.a.createElement("label",null,r),a.a.createElement("input",Object.assign({},t,{placeholder:r,type:n})),function(e){if(e.touched&&e.error)return a.a.createElement("div",{className:"ui negative message"},a.a.createElement("div",null,e.error))}(c))},ne=r(128),ae=function(e){return function(t){return e(t.target.files[0])}},ce=function(e){var t=e.input,r=(t.value,t.onChange),n=t.onBlur,c=Object(ne.a)(t,["value","onChange","onBlur"]),s=(e.meta,Object(ne.a)(e,["input","meta"]));return a.a.createElement("input",Object.assign({onChange:ae(r),onBlur:ae(n),type:"file"},c,s))},se=Object(ee.a)({form:"wizard",destroyOnUnmount:!1,forceUnregisterOnUnmount:!0,validate:te})((function(e){var t=e.handleSubmit;return a.a.createElement("form",{onSubmit:t,className:"ui form"},a.a.createElement(Q.a,{name:"name",type:"text",component:re,label:"Recipe Name"}),a.a.createElement(Q.a,{name:"description",type:"text",component:re,label:"Description"}),a.a.createElement("div",{className:"field"},a.a.createElement("label",null,"Attachment"),a.a.createElement(Q.a,{name:"attachment",component:ce,type:"file",accept:".png, .jpg, .jpeg"})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit",className:"ui button primary"},"Next")))})),oe=["Soup","Appetizer","Salad","Dessert","Main Dish","Drink","Bread"],ie=function(e){var t=e.input,r=e.meta;return a.a.createElement("div",null,a.a.createElement("select",t,a.a.createElement("option",{value:""},"Select a category..."),oe.map((function(e){return a.a.createElement("option",{value:e,key:e},e)}))),function(e){if(e.touched&&e.error)return a.a.createElement("div",{className:"ui negative message"},a.a.createElement("div",null,e.error))}(r))},le=Object(ee.a)({form:"wizard",destroyOnUnmount:!1,forceUnregisterOnUnmount:!0,validate:te})((function(e){var t=e.handleSubmit,r=e.previousPage;return a.a.createElement("form",{onSubmit:t,className:"ui form"},a.a.createElement("div",{className:"ui field"},a.a.createElement("label",null,"Recipe Category"),a.a.createElement(Q.a,{name:"recipeType",component:ie})),a.a.createElement("div",null,a.a.createElement("button",{type:"button",className:"ui button negative",onClick:r},"Previous"),a.a.createElement("button",{type:"submit",className:"ui button primary"},"Next")))})),ue=Object(ee.a)({form:"wizard",destroyOnUnmount:!1,forceUnregisterOnUnmount:!0,validate:te})((function(e){var t=e.handleSubmit,r=e.pristine,n=e.previousPage,c=e.submitting;return a.a.createElement("form",{onSubmit:t,className:"ui form"},a.a.createElement("div",{className:"ui field"},a.a.createElement("label",null,"Notes"),a.a.createElement("div",null,a.a.createElement(Q.a,{name:"notes",component:"textarea",placeholder:"Notes"}))),a.a.createElement("div",null,a.a.createElement("button",{type:"button",className:"ui button negative",onClick:n},"Previous"),a.a.createElement("button",{type:"submit",disabled:r||c,className:"ui button primary"},"Submit")))})),pe=function(e){function t(e){var r;return Object(m.a)(this,t),(r=Object(f.a)(this,Object(h.a)(t).call(this,e))).nextPage=r.nextPage.bind(Object($.a)(r)),r.previousPage=r.previousPage.bind(Object($.a)(r)),r.state={page:1},r}return Object(v.a)(t,e),Object(d.a)(t,[{key:"nextPage",value:function(){this.setState({page:this.state.page+1})}},{key:"previousPage",value:function(){this.setState({page:this.state.page-1})}},{key:"render",value:function(){var e=this.props.onSubmit,t=this.state.page;return a.a.createElement("div",null,1===t&&a.a.createElement(se,{onSubmit:this.nextPage}),2===t&&a.a.createElement(le,{previousPage:this.previousPage,onSubmit:this.nextPage}),3===t&&a.a.createElement(ue,{previousPage:this.previousPage,onSubmit:e}))}}]),t}(n.Component),me=function(e){function t(){var e,r;Object(m.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).onSubmit=function(e){var t=e.attachment,n=new FileReader;n.readAsDataURL(t),n.onloadend=function(){r.setState({file:t,base64:n.result}),e.attachment=n.result,r.props.createRecipe(e)}},r}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement(pe,{onSubmit:this.onSubmit})}}]),t}(a.a.Component),de=Object(o.b)(null,{createRecipe:function(e){return function(){var t=Object(E.a)(g.a.mark((function t(r,n){var a,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n().auth.userId,t.next=3,N.post("/recipes",R({},e,{userId:a}));case 3:c=t.sent,r({type:"CREATE_RECIPE",payload:c.data}),C.push("/recipes");case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}})(me),fe=function(e){function t(){var e,r;Object(m.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(r=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c)))).renderInput=function(e){var t=e.input,n=e.label,c=e.meta,s=e.type,o="field ".concat(c.error&&c.touched?"error":"");return a.a.createElement("div",{className:o},a.a.createElement("label",null,n),a.a.createElement("input",Object.assign({},t,{autoComplete:"off",type:s})),r.renderError(c))},r.onSubmit=function(e){r.props.loginUser(e)},r}return Object(v.a)(t,e),Object(d.a)(t,[{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return a.a.createElement("div",{className:"ui error message"},a.a.createElement("div",null,t))}},{key:"renderSigninError",value:function(){if(this.props.errorMessage)return a.a.createElement("div",{className:"ui error message"},a.a.createElement("div",null,this.props.errorMessage))}},{key:"render",value:function(){return a.a.createElement("div",{className:"ui segment"},a.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"ui form error"},a.a.createElement(Q.a,{name:"username",component:this.renderInput,label:"Username"}),a.a.createElement(Q.a,{name:"password",component:this.renderInput,label:"Password",type:"password"}),a.a.createElement("button",{className:"ui button primary"},"Submit"),a.a.createElement(p.a,{to:"/signup",className:"ui button negative"},"Signup"),this.renderSigninError()))}}]),t}(a.a.Component),he=Object(ee.a)({form:"userLogin",validate:function(e){var t={};return e.username||(t.username="You must enter a Username"),e.password||(t.password="You must enter a Password"),t}})(fe),ve=Object(o.b)((function(e){return{errorMessage:e.users.errorMessage}}),{loginUser:function(e){return function(){var t=Object(E.a)(g.a.mark((function t(r,n){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.get("/users?username=".concat(e.username));case 2:0!==(a=t.sent).data.length?e.password===a.data[0].password?(r({type:"LOGIN_USER",payload:a.data[0].id}),C.push("/")):r({type:"LOGIN_ERROR",payload:"Invalid Password"}):r({type:"LOGIN_ERROR",payload:"Invalid Username"});case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}})(he),be=function(e){var t={};return e.firstname||(t.firstname="You must enter a First Name"),e.lastname||(t.lastname="You must enter a Last Name"),e.username||(t.username="You must enter a Username"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password||(t.password="You must enter a Password"),t},ge=function(e){function t(){var e,r;Object(m.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(r=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c)))).renderInput=function(e){var t=e.input,n=e.label,c=e.meta,s=e.type,o="field ".concat(c.error&&c.touched?"error":"");return a.a.createElement("div",{className:o},a.a.createElement("label",null,n),a.a.createElement("input",Object.assign({},t,{autoComplete:"off",type:s})),r.renderError(c))},r.onSubmit=function(e){var t=e.profilepicture,n=new FileReader;n.readAsDataURL(t),n.onloadend=function(){r.setState({file:t,base64:n.result}),e.profilepicture=n.result,r.props.createUser(e)}},r}return Object(v.a)(t,e),Object(d.a)(t,[{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return a.a.createElement("div",{className:"ui error message"},a.a.createElement("div",null,t))}},{key:"render",value:function(){return a.a.createElement("div",{className:"ui segment"},a.a.createElement("h2",null,"Sign Up Form"),a.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"ui form error"},a.a.createElement(Q.a,{name:"firstname",component:this.renderInput,label:"First Name"}),a.a.createElement(Q.a,{name:"lastname",component:this.renderInput,label:"Last Name"}),a.a.createElement(Q.a,{name:"username",component:this.renderInput,label:"User Name"}),a.a.createElement(Q.a,{name:"email",component:this.renderInput,label:"E-mail Address"}),a.a.createElement(Q.a,{name:"password",component:this.renderInput,label:"Password",type:"password"}),a.a.createElement("div",{className:"field"},a.a.createElement("label",null,"Profile picture"),a.a.createElement(Q.a,{name:"profilepicture",component:ce,type:"file",accept:".png, .jpg, .jpeg"})),a.a.createElement("button",{className:"ui button primary"},"Submit")))}}]),t}(a.a.Component),ye=Object(ee.a)({form:"userCreate",validate:be})(ge),Ee=Object(o.b)(null,{createUser:function(e){return function(){var t=Object(E.a)(g.a.mark((function t(r){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.post("/users",R({},e));case 2:n=t.sent,r({type:"CREATE_USER",payload:n.data}),C.push("/");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(ye),Oe=function(e){function t(){var e,r;Object(m.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).onFollowClick=Object(E.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.followUser(r.props.followerId,r.props.followedId);case 2:return e.next=4,r.props.fetchFollows(r.props.signedInUser);case 4:r.props.onClick();case 5:case"end":return e.stop()}}),e)}))),r.onUnfollowClick=Object(E.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.unfollowUser(r.props.followerId,r.props.followedId);case 2:return e.next=4,r.props.fetchFollows(r.props.signedInUser);case 4:r.props.onClick();case 5:case"end":return e.stop()}}),e)}))),r}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.isFollowing(this.props.followerId,this.props.followedId),this.props.fetchFollows(this.props.signedInUser),this.setState({isLoading:!1})}},{key:"isFollowing",value:function(e){var t=this,r=this.props.follows.find((function(r){return r.followerId===t.props.signedInUser&&r.followedId===e}));return r}},{key:"render",value:function(){return this.props.followerId&&this.props.followerId!==this.props.followedId?this.isFollowing(this.props.followedId)?a.a.createElement("button",{className:"ui green button",style:{width:this.props.buttonWidth,position:this.props.positionValue,bottom:this.props.bottomValue},onClick:this.onUnfollowClick},a.a.createElement("i",{"aria-hidden":"true",className:"check icon"}),"Following"):a.a.createElement("button",{className:"ui blue button",style:{width:this.props.buttonWidth,position:this.props.positionValue,bottom:this.props.bottomValue},onClick:this.onFollowClick},a.a.createElement("i",{"aria-hidden":"true",className:"plus icon"}),"Follow"):null}}]),t}(a.a.Component);Oe.defaultProps={onClick:function(){},position:"",bottom:""};var we=Object(o.b)((function(e){return{signedInUser:e.auth.userId,follows:Object.values(e.follows)}}),{isFollowing:L,followUser:P,unfollowUser:F,fetchFollows:D})(Oe),je=function(e){function t(){var e,r;Object(m.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).state={user:""},r.componentDidMount=Object(E.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.fetchUser(r.props.userId);case 2:return e.next=4,r.props.fetchFollows(r.props.signedInUser);case 4:return e.next=6,r.props.isFollowing(r.props.signedInUser,r.props.userId);case 6:r.setState({user:r.props.users.find((function(e){return e.id===r.props.userId}))});case 7:case"end":return e.stop()}}),e)}))),r}return Object(v.a)(t,e),Object(d.a)(t,[{key:"renderUserPicture",value:function(){return this.state.user.profilepicture?a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{className:"ui tiny left floated image",src:this.state.user.profilepicture,alt:this.state.user.id,style:{width:50,height:50,borderRadius:25}})):a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{className:"ui tiny left floated image",src:"https://upload.wikimedia.org/wikipedia/commons/7/70/User_icon_BLACK-01.png",alt:"placeholder",style:{width:60,height:60,borderRadius:30}}))}},{key:"render",value:function(){return void 0===this.state.user||""===this.state.user?null:a.a.createElement("div",{className:"ui card"},a.a.createElement("div",{className:"content"},this.renderUserPicture(),a.a.createElement(p.a,{to:"/user/".concat(this.state.user.id),className:"header"},a.a.createElement("div",{className:"header"},this.state.user.username)),a.a.createElement("div",{className:"meta"},"23.10.2019"),a.a.createElement("div",{className:"description"},"Description will be here")),a.a.createElement("div",{className:"extra content"},a.a.createElement(we,{followerId:this.props.signedInUser,followedId:this.state.user.id,buttonWidth:"250px"})))}}]),t}(a.a.Component),Ne=Object(o.b)((function(e){return{users:Object.values(e.users),signedInUser:e.auth.userId,follows:e.follows,isUserFollowing:e.follows.isFollowing}}),{fetchUser:x,followUser:P,unfollowUser:F,fetchFollows:D,isFollowing:L})(je),Ie=function(e){function t(){var e,r;Object(m.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).state={comment:""},r.handleCommentChange=function(e){r.setState({comment:e.target.value})},r.handleCreateComment=function(e){var t=r.props,n=t.commentedRecipe,a=t.currentUser;e.preventDefault(),r.props.createComment(r.state.comment,n,a,(new Date).toLocaleString(),r.props.parentComment),r.setState({comment:""})},r}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return this.props.currentUser?a.a.createElement("form",{className:"ui reply form"},a.a.createElement("div",{className:"field",onBlur:this.props.onLoseFocus},a.a.createElement("textarea",{type:"textinput",name:"comment",placeholder:this.props.commentText,value:this.state.comment,onChange:this.handleCommentChange,ref:this.props.refInput})),a.a.createElement("button",{className:"ui icon primary left labeled button",onClick:function(t){return e.handleCreateComment(t)}},a.a.createElement("i",{"aria-hidden":"true",className:"edit icon"}),"Add Comment")):a.a.createElement("div",null,"Login to add comment")}}]),t}(a.a.Component),Ce=Object(o.b)((function(e){return{currentUser:e.auth.userId}}),{createComment:function(e,t,r,n,a){return function(){var c=Object(E.a)(g.a.mark((function c(s){var o;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,N.post("/comments",{comment:e,recipeId:t,createdBy:r,createdDt:n,parentComment:a});case 2:o=c.sent,s({type:"CREATE_COMMENT",payload:o.data});case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}})(Ie),ke=function(e){function t(){var e,r;Object(m.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).state={parentComment:null,replyingTo:"Write a comment here..."},r.componentDidMount=Object(E.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.fetchComments(r.props.recipeId);case 2:return t=[],e.next=5,r.props.comments.map((function(e){return-1===t.indexOf(e.createdBy)&&(t.push(e.createdBy),r.props.fetchUser(e.createdBy)),null}));case 5:case"end":return e.stop()}}),e)}))),r.replyButtonHandler=function(){var e=Object(E.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState({replyingTo:"You are replying to @"+n,parentComment:t});case 2:r.nameInput.focus();case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r}return Object(v.a)(t,e),Object(d.a)(t,[{key:"renderUserAvatar",value:function(e){return e.profilepicture?a.a.createElement("div",{className:"avatar"},a.a.createElement("img",{src:e.profilepicture,alt:"avatar"})):a.a.createElement("div",{className:"avatar"},a.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/70/User_icon_BLACK-01.png",alt:"avatar"}))}},{key:"renderChildComments",value:function(e){var t=this;return this.props.comments.filter((function(t){return t.parentComment===e})).map((function(r){var n=t.props.commentOwners.find((function(e){return e.id===r.createdBy}));return n&&r?a.a.createElement("div",{className:"ui comments",key:r.id},a.a.createElement("div",{className:"comment"},t.renderUserAvatar({user:n}),a.a.createElement("div",{className:"content"},a.a.createElement(p.a,{to:"/user/".concat(r.createdBy),className:"author"},n.username),a.a.createElement("div",{className:"metadata"},a.a.createElement("div",null,r.createdDt)),a.a.createElement("div",{className:"text"},r.comment),a.a.createElement("div",{className:"actions"},a.a.createElement("button",{className:"ui mini basic button",onClick:function(){return t.replyButtonHandler(e,n.username)},value:r.id},"Reply"))))):null}))}},{key:"renderComments",value:function(){var e=this;return this.props.comments.filter((function(t){return t.recipeId===e.props.recipeId&&!t.parentComment})).map((function(t){var r=e.props.commentOwners.find((function(e){return e.id===t.createdBy}));return r?a.a.createElement("div",{className:"comment",key:t.id},e.renderUserAvatar(r),a.a.createElement("div",{className:"content"},a.a.createElement(p.a,{to:"/user/".concat(t.createdBy),className:"author"},r.username),a.a.createElement("div",{className:"metadata"},a.a.createElement("div",null,t.createdDt)),a.a.createElement("div",{className:"text"},t.comment),a.a.createElement("div",{className:"actions"},a.a.createElement("button",{className:"ui mini basic button",onClick:function(){return e.replyButtonHandler(t.id,r.username)},value:t.id},"Reply"))),e.renderChildComments(t.id)):a.a.createElement(K,{key:"Spinner".concat(t.id)})}))}},{key:"render",value:function(){var e=this;return void 0!==this.props.commentOwners&&this.props.commentOwners.length>0&&this.props.isSignedIn?a.a.createElement(a.a.Fragment,null,this.renderComments(),a.a.createElement(Ce,{commentedRecipe:this.props.recipeId,commentText:this.state.replyingTo,parentComment:this.state.parentComment,refInput:function(t){e.nameInput=t},onLoseFocus:function(){return setTimeout((function(){e.setState({parentComment:null,replyingTo:"Write a comment here..."})}),200)}})):this.props.isSignedIn?a.a.createElement(K,null):a.a.createElement(a.a.Fragment,null,this.renderComments())}}]),t}(a.a.Component),Re=Object(o.b)((function(e){return{comments:Object.values(e.comments),commentOwners:Object.values(e.users),isSignedIn:e.auth.isSignedIn}}),{fetchComments:_,fetchUser:x})(ke),Se=function(e){return a.a.createElement("div",{className:"ui comments",style:{paddingTop:"150px",paddingBotom:"50px"}},a.a.createElement("h3",{className:"ui dividing header"},"Comments"),a.a.createElement(Re,{recipeId:e.commentedRecipe}))},Ue=r(199),xe=function(e){function t(){var e,r;Object(m.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).state={value:0,editable:!0,overallRating:0,ratingCounter:0,totalRatings:0},r.componentDidMount=Object(E.a)(g.a.mark((function e(){var t,n,a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.match.params.id,e.next=3,r.props.fetchRecipe(t);case 3:return e.next=5,r.props.fetchRatings(t);case 5:n=r.props.ratings.find((function(e){return e.createdBy===r.props.currentUser&&e.recipeId===parseInt(t)})),a=0,(c=r.props.ratings.filter((function(e){return e.recipeId===parseInt(t)}))).length>0&&(r.setState({ratingCounter:c.length}),c.map((function(e){return a+=e.ratingValue})),r.setState({totalRatings:a}),r.setState({overallRating:a/r.state.ratingCounter})),n&&r.setState({value:n.ratingValue,editable:!1});case 10:case"end":return e.stop()}}),e)}))),r.renderRating=function(){var e=Object(E.a)(g.a.mark((function e(t,n,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.setState({value:t,editable:!1,overallRating:(r.state.totalRatings+t)/(r.state.ratingCounter+1)});case 2:r.props.createRating(t,n,a);case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),r}return Object(v.a)(t,e),Object(d.a)(t,[{key:"renderRatingStars",value:function(){var e=this;return a.a.createElement(Ue.a,{value:this.state.value,onChange:function(t){return e.renderRating(t,e.props.currentUser,e.props.recipe.id)},size:"20px",inactiveColor:"grey",activeColor:"orange",editable:this.state.editable})}},{key:"render",value:function(){if(!this.props.recipe)return a.a.createElement("div",null,a.a.createElement(K,null));var e=this.props.recipe,t=e.name,r=e.description,n=e.attachment,c=e.recipeType,s=e.notes,o=e.userId,i=e.id;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"ui grid"},a.a.createElement("div",{className:"four wide column"},a.a.createElement("img",{src:n,alt:i,className:"ui image"})),a.a.createElement("div",{className:"eight wide column"},a.a.createElement("h1",null,t," (",c,")"),a.a.createElement("div",null,this.renderRatingStars()),a.a.createElement("div",{style:{marginTop:"10px",fontSize:15}},"Overall Rating: (".concat(this.state.overallRating.toFixed(1),")")),a.a.createElement("h3",null,r),a.a.createElement("span",null,s)),a.a.createElement("div",{className:"four wide column"},a.a.createElement(Ne,{userId:o}))),a.a.createElement(Se,{commentedRecipe:i}),a.a.createElement("div",null))}}]),t}(a.a.Component),Pe=Object(o.b)((function(e,t){return{recipe:e.recipes[t.match.params.id],currentUser:e.auth.userId,ratings:Object.values(e.ratings)}}),{fetchRecipe:function(e){return function(){var t=Object(E.a)(g.a.mark((function t(r){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.get("/recipes/".concat(e));case 2:n=t.sent,r({type:"FETCH_RECIPE",payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},createRating:function(e,t,r){return function(){var n=Object(E.a)(g.a.mark((function n(a){var c;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N.post("/ratings",{ratingValue:e,createdBy:t,recipeId:r});case 2:c=n.sent,a({type:"CREATE_RATING",payload:c.data});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},fetchRatings:function(e){return function(){var t=Object(E.a)(g.a.mark((function t(r){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.get("/ratings?recipeId=".concat(e));case 2:n=t.sent,r({type:"FETCH_RATINGS",payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(xe),Fe=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(d.a)(t,[{key:"renderList",value:function(){return this.props.userRecipes.map((function(e){return a.a.createElement("div",{className:"ui card",key:e.id},a.a.createElement(p.a,{to:"/recipes/".concat(e.id),className:"image"},a.a.createElement("img",{src:e.attachment,alt:e.id,className:"image",style:{height:"259px"}})),a.a.createElement("div",{className:"content"},a.a.createElement(p.a,{to:"/recipes/".concat(e.id),className:"header"},e.name),a.a.createElement("div",{className:"meta"},a.a.createElement("span",{className:"date"},e.recipeType)),a.a.createElement("div",{className:"description"},e.description)),a.a.createElement("div",{className:"extra content"},a.a.createElement(Z,{userId:e.userId})))}))}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("h2",null,this.props.title),a.a.createElement("div",{className:"ui cards"},this.renderList()))}}]),t}(a.a.Component),De=(r(359),function(e){function t(){var e,r;Object(m.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(r=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c)))).state={isLoading:!0,currentUser:""},r.componentDidMount=Object(E.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.match.params.id,e.next=3,r.props.fetchUserRecipes(t);case 3:return e.next=5,r.props.fetchUser(t);case 5:return e.next=7,r.props.followNumbers(t);case 7:r.setState({isLoading:!1,currentUser:r.props.currentUser.find((function(e){return e.id===parseInt(t)}))});case 8:case"end":return e.stop()}}),e)}))),r.renderPicture=function(){return r.state.currentUser.profilepicture?a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{className:"ui left floated image",src:r.state.currentUser.profilepicture,alt:r.state.currentUser.id,style:{width:150,height:150,borderRadius:75}})):a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{className:"ui left floated image",src:"https://upload.wikimedia.org/wikipedia/commons/7/70/User_icon_BLACK-01.png",alt:"placeholder",style:{width:150,height:150,borderRadius:75}}))},r.onFollowClick=function(){var e=r.props.match.params.id;r.props.followNumbers(e)},r}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return this.state.isLoading?a.a.createElement(K,null):this.state.currentUser?a.a.createElement("div",null,a.a.createElement("div",{className:"ui grid"},a.a.createElement("div",{className:"three wide column"},this.renderPicture()),a.a.createElement("div",{className:"eight wide left aligned column"},a.a.createElement("h2",null,this.state.currentUser.username),a.a.createElement("div",{className:"ui tiny statistics",style:{position:"absolute",bottom:75}},a.a.createElement("div",{className:"ui statistic"},a.a.createElement("div",{className:"value"},this.props.userRecipes.filter((function(t){return t.userId===e.state.currentUser.id})).length),a.a.createElement("div",{className:"label"},"Recipes")),a.a.createElement("div",{className:"ui statistic"},a.a.createElement("div",{className:"value"},a.a.createElement(p.a,{to:"/followings/".concat(this.state.currentUser.id),className:"followLink"},this.props.following)),a.a.createElement("div",{className:"label"},"Following")),a.a.createElement("div",{className:"ui statistic"},a.a.createElement("div",{className:"value"},a.a.createElement(p.a,{to:"/followers/".concat(this.state.currentUser.id),className:"followLink"},this.props.follower)),a.a.createElement("div",{className:"label"},"Follower"))),a.a.createElement(we,{followerId:this.props.signedInUser,followedId:this.state.currentUser.id,buttonWidth:"300px",onClick:function(){e.onFollowClick()},positionValue:"absolute",bottomValue:"20px"}))),a.a.createElement("br",null),a.a.createElement(Fe,{userRecipes:this.props.userRecipes.filter((function(t){return t.userId===e.state.currentUser.id})),title:"Recipes by ".concat(this.state.currentUser.username)})):a.a.createElement("div",null,a.a.createElement(K,null))}}]),t}(a.a.Component)),Le=Object(o.b)((function(e){return{currentUser:Object.values(e.users),userRecipes:Object.values(e.userRecipes),signedInUser:e.auth.userId,follows:e.follows,follower:e.followNumbers.followerNumber,following:e.followNumbers.followingNumber}}),{fetchUserRecipes:U,fetchUser:x,fetchFollows:D,followNumbers:function(e){return function(){var t=Object(E.a)(g.a.mark((function t(r){var n,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.get("/follows?followedId=".concat(e));case 2:return n=t.sent,t.next=5,N.get("/follows?followerId=".concat(e));case 5:a=t.sent,r({type:"FOLLOW_NUMBERS",payload:n.data.length,payload2:a.data.length});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(De),_e=function(e){return s.a.createPortal(a.a.createElement("div",{onClick:e.onDismiss,className:"ui dimmer modals visible active"},a.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui standard tiny modal visible active"},a.a.createElement("div",{className:"header"},e.title),a.a.createElement("div",{className:"content"},e.content),a.a.createElement("div",{className:"actions"},e.actions))),document.querySelector("#modal"))},Ae=(r(360),function(e){function t(){var e,r;Object(m.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).state={isLoading:!0},r}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){void 0!==this.props.followingId?this.props.fetchFollowings(this.props.followingId):void 0!==this.props.followedId&&this.props.fetchFollowers(this.props.followedId)}},{key:"renderUserAvatar",value:function(e){return e.profilepicture?a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{className:"ui avatar image",src:e.profilepicture,alt:"avatar"})):a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{className:"ui avatar image",src:"https://upload.wikimedia.org/wikipedia/commons/7/70/User_icon_BLACK-01.png",alt:"avatar"}))}},{key:"renderFollowers",value:function(){var e=this;return this.props.follows.length>0?this.props.follows.filter((function(t){return t.followedId===parseInt(e.props.followedId)})).map((function(t){var r=e.props.users.find((function(e){return e.id===t.followerId}));return r?a.a.createElement("div",{className:"ui divided middle aligned list",key:t.id},a.a.createElement("div",{className:"item"},a.a.createElement("div",{className:"right floated content"},a.a.createElement(we,{followerId:e.props.signedInUser,followedId:t.followerId,buttonWidth:"200px"})),a.a.createElement("div",{className:"content"},a.a.createElement(p.a,{className:"linkToUser",to:"/user/".concat(r.id)},e.renderUserAvatar(r),r.username)))):a.a.createElement(K,{key:t.id})})):null}},{key:"renderFollowings",value:function(){var e=this;return this.props.follows.length>0?this.props.follows.filter((function(t){return t.followerId===parseInt(e.props.followingId)})).map((function(t){var r=e.props.users.find((function(e){return e.id===t.followedId}));return r?a.a.createElement("div",{className:"ui divided middle aligned list",key:t.id},a.a.createElement("div",{className:"item"},a.a.createElement("div",{className:"right floated content"},a.a.createElement(we,{followerId:e.props.signedInUser,followedId:t.followedId,buttonWidth:"200px"})),a.a.createElement("div",{className:"content"},a.a.createElement(p.a,{className:"linkToUser",to:"/user/".concat(r.id)},e.renderUserAvatar(r),r.username)))):a.a.createElement(K,{key:t.id})})):null}},{key:"render",value:function(){return void 0!==this.props.followingId?this.renderFollowings():void 0!==this.props.followedId?this.renderFollowers():void 0}}]),t}(a.a.Component)),Te=Object(o.b)((function(e){return{follows:Object.values(e.followerModal),users:Object.values(e.users),signedInUser:e.auth.userId}}),{fetchFollowings:function(e){return function(){var t=Object(E.a)(g.a.mark((function t(r){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.get("/follows?followerId=".concat(e));case 2:(n=t.sent).data.map((function(e){return r(x(e.followedId))})),r({type:"FETCH_FOLLOWINGS",payload:n.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},fetchFollowers:A})(Ae),Me=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(d.a)(t,[{key:"renderContent",value:function(){return a.a.createElement(Te,{followedId:this.props.match.params.id})}},{key:"render",value:function(){var e=this;return a.a.createElement(_e,{title:"Follower",content:this.renderContent(),onDismiss:function(){return C.push("/user/".concat(e.props.match.params.id))}})}}]),t}(a.a.Component),Be=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(d.a)(t,[{key:"renderContent",value:function(){return a.a.createElement(Te,{followingId:this.props.match.params.id})}},{key:"render",value:function(){var e=this;return a.a.createElement(_e,{title:"Following",content:this.renderContent(),onDismiss:function(){return C.push("/user/".concat(e.props.match.params.id))}})}}]),t}(a.a.Component),He=function(){return a.a.createElement(u.b,{history:C},a.a.createElement("div",{style:{backgroundColor:"rgb(\t171, 0, 18)",height:"61.56px",width:"100%",zIndex:-1,position:"absolute"}}),a.a.createElement("div",{className:"ui container",style:{width:"70% "}},a.a.createElement(q,null),a.a.createElement(u.c,null,a.a.createElement(u.a,{path:"/recipes",exact:!0,component:X}),a.a.createElement(u.a,{path:"/",exact:!0,component:X}),a.a.createElement(u.a,{path:"/login",exact:!0,component:ve}),a.a.createElement(u.a,{path:"/signup",exact:!0,component:Ee}),a.a.createElement(u.a,{path:"/recipes/new",exact:!0,component:de}),a.a.createElement(u.a,{path:"/recipes/:id",exact:!0,component:Pe}),a.a.createElement(u.a,{path:"/user/:id",exact:!0,component:Le}),a.a.createElement(u.a,{path:"/followers/:id",exact:!0,component:Me}),a.a.createElement(u.a,{path:"/followings/:id",exact:!0,component:Be}))))},We=r(371);function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(r,!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ve={isSignedIn:!0,userId:1,errorMessage:null};function ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ze(r,!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ze(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ye(r,!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ye(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Je(r,!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Je(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(r,!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(r,!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rt(r,!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(r,!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function st(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?st(r,!0).forEach((function(t){Object(y.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):st(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var it=Object(i.c)({form:We.a,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_USER":return Ke({},e,Object(y.a)({},t.payload.id,t.payload));case"LOGIN_USER":return Ke({},e,{isSignedIn:!0,userId:t.payload,errorMessage:null});case"LOGOUT_USER":return Ke({},e,{isSignedIn:!1,errorMessage:null,userId:null});case"LOGIN_ERROR":return Ke({},e,{isSignedIn:!1,errorMessage:t.payload});default:return e}},recipes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_RECIPE":return qe({},e,Object(y.a)({},t.payload.id,t.payload));case"FETCH_RECIPES":return qe({},e,{},w.a.mapKeys(t.payload,"id"));case"FETCH_RECIPE":return qe({},e,Object(y.a)({},t.payload.id,t.payload));default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER":return Ze({},e,{},w.a.mapKeys(t.payload,"id"));default:return e}},foundRecipes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_RECIPES":return t.payload;default:return e}},userRecipes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_RECIPES":return Xe({},e,{},w.a.mapKeys(t.payload,"id"));default:return e}},follows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW_USER":return Qe({},e,Object(y.a)({},t.payload.id,t.payload));case"FETCH_FOLLOWS":return Qe({},e,{},w.a.mapKeys(t.payload,"id"));case"UNFOLLOW_USER":return Qe({},w.a.mapKeys(t.payload,"id"));default:return e}},followNumbers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW_NUMBERS":return tt({},e,{followerNumber:t.payload,followingNumber:t.payload2});default:return e}},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_COMMENT":return nt({},e,Object(y.a)({},t.payload.id,t.payload));case"FETCH_COMMENTS":return nt({},e,{},w.a.mapKeys(t.payload,"id"));default:return e}},ratings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_RATING":return ct({},e,Object(y.a)({},t.payload.id,t.payload));case"FETCH_RATINGS":return ct({},e,{},w.a.mapKeys(t.payload,"id"));default:return e}},followerModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_FOLLOWINGS":case"FETCH_FOLLOWERS":return ot({},w.a.mapKeys(t.payload,"id"));default:return e}}}),lt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,ut=Object(i.e)(it,lt(Object(i.a)(l.a)));s.a.render(a.a.createElement(o.a,{store:ut},a.a.createElement(He,null)),document.querySelector("#root"))}},[[208,1,2]]]);
//# sourceMappingURL=main.cc47321b.chunk.js.map